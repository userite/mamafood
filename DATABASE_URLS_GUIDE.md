# üîó –†—ä–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∑–∞ Internal –∏ External Connection Strings

## –†–∞–∑–ª–∏–∫–∞ –º–µ–∂–¥—É Internal –∏ External URL

### External URL (–í—ä–Ω—à–µ–Ω)
- **–ò–∑–ø–æ–ª–∑–≤–∞ —Å–µ –∑–∞**: –õ–æ–∫–∞–ª–Ω–æ —Ç–µ—Å—Ç–≤–∞–Ω–µ –∏–ª–∏ –∫–æ–≥–∞—Ç–æ backend –ù–ï –µ –Ω–∞ Render.com
- **SSL**: –û–±–∏–∫–Ω–æ–≤–µ–Ω–æ –∏–∑–∏—Å–∫–≤–∞ SSL
- **–°–∫–æ—Ä–æ—Å—Ç**: –ü–æ-–±–∞–≤–Ω–æ (–ø—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç)
- **–ü—Ä–∏–º–µ—Ä**: `postgresql://user:pass@dpg-xxxxx-a.oregon-postgres.render.com:5432/mamafood_xxxx`

### Internal URL (–í—ä—Ç—Ä–µ—à–µ–Ω)
- **–ò–∑–ø–æ–ª–∑–≤–∞ —Å–µ –∑–∞**: –ö–æ–≥–∞—Ç–æ backend –ï –Ω–∞ Render.com (–≤ —Å—ä—â–∏—è cloud environment)
- **SSL**: –ù–µ –∏–∑–∏—Å–∫–≤–∞ SSL (–ø–æ-–±—ä—Ä–∑–æ)
- **–°–∫–æ—Ä–æ—Å—Ç**: –ü–æ-–±—ä—Ä–∑–æ (–≤—ä—Ç—Ä–µ—à–Ω–∞ –º—Ä–µ–∂–∞)
- **–ü—Ä–∏–º–µ—Ä**: `postgresql://user:pass@dpg-xxxxx-a.internal:5432/mamafood_xxxx`

---

## üìù –ö–∞–∫ –¥–∞ –≥–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞—à

### –ó–∞ –ª–æ–∫–∞–ª–Ω–æ —Ç–µ—Å—Ç–≤–∞–Ω–µ (–Ω–∞ —Ç–≤–æ—è –∫–æ–º–ø—é—Ç—ä—Ä)

–°—ä–∑–¥–∞–π `.env` —Ñ–∞–π–ª –≤ `backend-only/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ç–∞:

```env
# External URL - –∏–∑–ø–æ–ª–∑–≤–∞ —Å–µ –∑–∞ –ª–æ–∫–∞–ª–Ω–æ —Ç–µ—Å—Ç–≤–∞–Ω–µ
DATABASE_URL=postgresql://user:password@dpg-xxxxx-a.oregon-postgres.render.com:5432/mamafood_xxxx

# Internal URL - –º–æ–∂–µ –¥–∞ –æ—Å—Ç–∞–Ω–µ –ø—Ä–∞–∑–Ω–æ –∑–∞ –ª–æ–∫–∞–ª–Ω–æ —Ç–µ—Å—Ç–≤–∞–Ω–µ
# DATABASE_URL_INTERNAL=postgresql://user:password@dpg-xxxxx-a.internal:5432/mamafood_xxxx

PORT=3000
```

**–í–∞–∂–Ω–æ**: –ó–∞ –ª–æ–∫–∞–ª–Ω–æ —Ç–µ—Å—Ç–≤–∞–Ω–µ –∏–∑–ø–æ–ª–∑–≤–∞–π **External URL**!

---

### –ó–∞ production –Ω–∞ Render.com

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ (–ø—Ä–µ–ø–æ—Ä—ä—á–∏—Ç–µ–ª–Ω–æ)

Render.com –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ–±–∞–≤—è `DATABASE_URL` –∫–∞—Ç–æ environment variable –∫–æ–≥–∞—Ç–æ:
- Backend –∏ PostgreSQL —Å–∞ –≤ —Å—ä—â–∏—è –ø—Ä–æ–µ–∫—Ç
- –ò–ª–∏ –∫–æ–≥–∞—Ç–æ —Å–≤—ä—Ä–∂–µ—à PostgreSQL –∫—ä–º Web Service

**–ù–µ –µ –Ω—É–∂–Ω–æ –¥–∞ —Å—ä–∑–¥–∞–≤–∞—à .env —Ñ–∞–π–ª!** Render.com –∏–∑–ø–æ–ª–∑–≤–∞ Internal URL –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ.

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—ä—á–Ω–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω–µ

–í Render.com Dashboard ‚Üí Web Service ‚Üí Environment:

```
DATABASE_URL=postgresql://user:pass@dpg-xxxxx-a.oregon-postgres.render.com:5432/mamafood_xxxx
DATABASE_URL_INTERNAL=postgresql://user:pass@dpg-xxxxx-a.internal:5432/mamafood_xxxx
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ê–∫–æ –∏ –¥–≤–∞—Ç–∞ —Å–∞ –∑–∞–¥–∞–¥–µ–Ω–∏, –∫–æ–¥—ä—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∏–∑–ø–æ–ª–∑–≤–∞ Internal URL –∫–æ–≥–∞—Ç–æ –µ –Ω–∞ Render.com.

---

## üéØ –ö–æ–π URL –∫–æ–≥–∞ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—à?

| –°–∏—Ç—É–∞—Ü–∏—è | –ò–∑–ø–æ–ª–∑–≤–∞–π | –ó–∞—â–æ |
|----------|-----------|------|
| –õ–æ–∫–∞–ª–Ω–æ —Ç–µ—Å—Ç–≤–∞–Ω–µ | **External URL** | –¢–≤–æ—è—Ç –∫–æ–º–ø—é—Ç—ä—Ä –µ "–≤—ä–Ω" –æ—Ç Render.com |
| Backend –Ω–∞ Render.com | **Internal URL** | –ü–æ-–±—ä—Ä–∑–æ, –±–µ–∑ SSL |
| Backend –Ω–∞ –¥—Ä—É–≥ —Å—ä—Ä–≤—ä—Ä | **External URL** | –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–∏—è—Ç –Ω–∞—á–∏–Ω –∑–∞ –¥–æ—Å—Ç—ä–ø |

---

## üîß –ö–∞–∫ –¥–∞ –≥–∏ –∑–∞–¥–∞–¥–µ—à

### –°—Ç—ä–ø–∫–∞ 1: –í–∑–µ–º–∏ connection strings –æ—Ç Render.com

1. –û—Ç–∏–¥–∏ –Ω–∞ Render.com Dashboard
2. –ò–∑–±–µ—Ä–∏ PostgreSQL –±–∞–∑–∞—Ç–∞
3. –í —Å–µ–∫—Ü–∏—è—Ç–∞ "Connections" —â–µ –≤–∏–¥–∏—à:
   - **Internal Connection String** (–∑–∞ services –≤ —Å—ä—â–∏—è –ø—Ä–æ–µ–∫—Ç)
   - **External Connection String** (–∑–∞ –¥–æ—Å—Ç—ä–ø –æ—Ç–≤—ä–Ω)

### –°—Ç—ä–ø–∫–∞ 2: –ó–∞ –ª–æ–∫–∞–ª–Ω–æ —Ç–µ—Å—Ç–≤–∞–Ω–µ

–°—ä–∑–¥–∞–π `backend-only/.env`:

```env
DATABASE_URL=postgresql://user:password@external-host:5432/database
PORT=3000
```

**–ò–ª–∏ –∏–∑–ø–æ–ª–∑–≤–∞–π –ø–æ–º–æ—â–Ω–∏—è —Å–∫—Ä–∏–ø—Ç:**
```batch
cd backend-only
create-env.bat
```

### –°—Ç—ä–ø–∫–∞ 3: –ó–∞ production –Ω–∞ Render.com

**–ù–µ –µ –Ω—É–∂–Ω–æ –¥–∞ –ø—Ä–∞–≤–∏—à –Ω–∏—â–æ!** Render.com –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ–±–∞–≤—è –ø—Ä–∞–≤–∏–ª–Ω–∏—è URL.

–ò–ª–∏ –∞–∫–æ –∏—Å–∫–∞—à —Ä—ä—á–Ω–æ:
1. Render.com ‚Üí Web Service ‚Üí Environment
2. –î–æ–±–∞–≤–∏ `DATABASE_URL` (External) –∏ `DATABASE_URL_INTERNAL` (Internal)
3. –ö–æ–¥—ä—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —â–µ –∏–∑–ø–æ–ª–∑–≤–∞ Internal –∫–æ–≥–∞—Ç–æ –µ –Ω–∞ Render.com

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–°–ª–µ–¥ –∫–∞—Ç–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞—à, —Å—Ç–∞—Ä—Ç–∏—Ä–∞–π backend:

```batch
start-backend.bat
```

–¢—Ä—è–±–≤–∞ –¥–∞ –≤–∏–¥–∏—à:
```
üìä Database Configuration:
   ‚úÖ –ò–∑–ø–æ–ª–∑–≤–∞–º: postgresql://...
   üìå External URL: postgresql://...
   üîí SSL: –î–∞/–ù–µ
‚úÖ Database connection test successful: ...
```

---

## ‚ùì –ß–µ—Å—Ç–æ –∑–∞–¥–∞–≤–∞–Ω–∏ –≤—ä–ø—Ä–æ—Å–∏

### Q: –ú–æ–≥–∞ –ª–∏ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞–º Internal URL –ª–æ–∫–∞–ª–Ω–æ?

**A**: –ù–µ! Internal URL —Ä–∞–±–æ—Ç–∏ —Å–∞–º–æ –º–µ–∂–¥—É services –≤ Render.com cloud. –ó–∞ –ª–æ–∫–∞–ª–Ω–æ —Ç–µ—Å—Ç–≤–∞–Ω–µ –≤–∏–Ω–∞–≥–∏ –∏–∑–ø–æ–ª–∑–≤–∞–π External URL.

### Q: –¢—Ä—è–±–≤–∞ –ª–∏ –¥–∞ –∑–∞–¥–∞–º –∏ –¥–≤–∞—Ç–∞ –≤ .env?

**A**: –ù–µ –µ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ. –ó–∞ –ª–æ–∫–∞–ª–Ω–æ —Ç–µ—Å—Ç–≤–∞–Ω–µ –∑–∞–¥–∞–π —Å–∞–º–æ `DATABASE_URL` (External). Internal URL —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ —Å–∞–º–æ –∫–æ–≥–∞—Ç–æ backend –µ –Ω–∞ Render.com.

### Q: –ö–∞–∫ –¥–∞ –∑–Ω–∞–º –∫–æ–π URL —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞?

**A**: –ü—Ä–æ–≤–µ—Ä–∏ –∫–æ–Ω–∑–æ–ª–∞—Ç–∞ –Ω–∞ backend-–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ - —â–µ –ø–æ–∫–∞–∂–µ –∫–æ–π URL —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞.

### Q: –ó–∞—â–æ Internal URL –µ –ø–æ-–±—ä—Ä–∑?

**A**: –ó–∞—â–æ—Ç–æ services –≤ Render.com –∫–æ–º—É–Ω–∏–∫–∏—Ä–∞—Ç –ø—Ä–µ–∑ –≤—ä—Ç—Ä–µ—à–Ω–∞ –º—Ä–µ–∂–∞, –±–µ–∑ –¥–∞ –º–∏–Ω–∞–≤–∞—Ç –ø—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –∏ –±–µ–∑ SSL overhead.

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–°–ª–µ–¥ –∫–∞—Ç–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞—à –ø—Ä–∞–≤–∏–ª–Ω–∏—è URL, backend-—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ —Å–≤—ä—Ä–∂–µ —É—Å–ø–µ—à–Ω–æ —Å –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏!

